# Rust ã®ãƒ¡ãƒ¢

[Rust](https://www.rust-lang.org/ja/)ã«é–¢ã™ã‚‹ãƒ¡ãƒ¢ã‚’é›†ã‚ãŸã‚‚ã®ã€‚

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
### Linux/Mac/WSL2

```bash
$ curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh
```

### Windows
[Rustã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼](https://www.rust-lang.org/ja/tools/install) ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦å®Ÿè¡Œã™ã‚‹ã€‚


#### Visual Studio 2013ä»¥é™ç”¨ã®C++ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã‚‚å¿…è¦ã«ãªã‚‹ã¨ã„ã†æ—¨ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºãŸå ´åˆ
1. `N` ã‚’å…¥åŠ›ã—ã¦Rustã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã‚’çµ‚äº†ã™ã‚‹ã€‚
1. [Microsoft C++ Build Tools](https://visualstudio.microsoft.com/ja/visual-cpp-build-tools/)ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦å®Ÿè¡Œã™ã‚‹ã€‚
1. ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰é¸æŠã§ã€ŒC++ã«ã‚ˆã‚‹ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—é–‹ç™ºã€ã‚’é¸æŠã™ã‚‹ã€‚ï¼ˆWindows10 SDKãŒé¸æŠã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªï¼‰
1. è¨€èªãƒ‘ãƒƒã‚¯ã§ã€Œè‹±èªã€ã‚’é¸æŠã™ã‚‹ã€‚ï¼ˆæ—¥æœ¬èªãŒå¿…è¦ãªå ´åˆã¯æ—¥æœ¬èªã¨è‹±èªã‚’é¸æŠï¼‰
1. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒœã‚¿ãƒ³ã‚’æŠ¼ä¸‹ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’å®Ÿè¡Œã™ã‚‹ã€‚ï¼ˆè¦å†èµ·å‹•ï¼‰
1. Rustã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã‚’å†åº¦å®Ÿè¡Œã™ã‚‹ã€‚

### å…±é€š
1. é¸æŠè‚¢ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ `1` ã‚’å…¥åŠ›
1. `Rust is installed` ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚Œã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æˆåŠŸã€‚
1. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã„ã¦ã„ã‚‹å ´åˆã¯å†èµ·å‹•ã•ã›ã‚‹ã€‚ï¼ˆãƒ‘ã‚¹ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ãŸã‚ï¼‰

ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã€‚

```bash
$ rustc --version
rustc 1.58.1 (db9d1b20b 2022-01-20)
```


### Termux
```bash
$ apt install rust gdb
```

`gdb` ã¯ `rust-gdb` ã‚’ä½¿ã†éš›ã«å¿…è¦ã«ãªã‚‹ã€‚

### VSCode
Rustå‘ã‘æ‹¡å¼µæ©Ÿèƒ½ã€‚

- [Rust for Visual Studio Code](https://marketplace.visualstudio.com/items?itemName=rust-lang.rust)

### å‚è€ƒ
- [ã¯ã˜ã‚ã«](https://www.rust-lang.org/ja/learn/get-started)


## æ›´æ–°
æœ€æ–°ç‰ˆã¸ã®æ›´æ–°ã¯ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã€‚

```bash
$ rustup update
```

## åŸºæœ¬æ“ä½œ
### ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©
```bash
$ rustc main.rc
```

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
|å‹•ä½œ|ã‚³ãƒãƒ³ãƒ‰|
|:--|:--|
|ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ|cargo new [project name]|
|ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰|cargo build|
|ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰|cargo build --release|
|ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç¢ºèªâ€»|cargo check|
|ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å®Ÿè¡Œ|cargo run|
|ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ†ã‚¹ãƒˆ|cargo test|
|ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ“ãƒ«ãƒ‰|cargo doc|

â€»ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ãŒå®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã¯ä½œã‚‰ãªã„

## ãƒ‡ãƒãƒƒã‚°
### rust-gdb
`gdb` ã§ã‚‚åŸºæœ¬çš„ãªãƒ‡ãƒãƒƒã‚°ã¯å¯èƒ½ã ãŒã€å€¤ã®å‚ç…§ãªã©ã§æœŸå¾…ã—ãŸå€¤ãŒå¾—ã‚‰ã‚Œãªã„å ´åˆãŒã‚ã‚‹ã€‚\
Rustæ¨™æº–ã§æä¾›ã•ã‚Œã¦ã„ã‚‹ `rust-gdb` ã‚’ä½¿ãˆã°ã€ä¸Šè¨˜ã®ã‚ˆã†ãªå•é¡Œã¯ç™ºç”Ÿã—ãªã„ã€‚

```bash
$ rust-gdb main
```

â€»Windows10ã§è©¦ã—ãŸã‚‰ä¸‹è¨˜ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã€ãƒ‡ãƒãƒƒã‚°ãŒæ°—ãªã‹ã£ãŸã€‚\
ã€€è»½ãèª¿ã¹ãŸæ„Ÿã˜è§£æ±ºç­–ãŒãªã•ãã†ãªã®ã§ã€Windowsã§ã¯VSCodeã‚’ä½¿ã£ãŸãƒ‡ãƒãƒƒã‚°ãŒæœ›ã¾ã—ã„ã€‚ï¼ˆMSã‚‚ãã†ã„ã£ã¦ã‚‹ï¼‰

`error: the 'rust-gdb.exe' binary, normally provided by the 'rustc' component, is not applicable to the 'stable-x86_64-pc-windows-msvc' toolchain`

### VSCode
ä»¥ä¸‹ã®æ‰‹é †ã§ãƒ‡ãƒãƒƒã‚°è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã€‚

1. [CodeLLDB](https://marketplace.visualstudio.com/items?itemName=vadimcn.vscode-lldb) æ‹¡å¼µæ©Ÿèƒ½ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚
1. VSCodeã®å·¦ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ãƒ‡ãƒãƒƒã‚°å®Ÿè¡Œã‚’é¸æŠã—ã€`launch.jsonãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚` ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã€‚
1. ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆãŒé–‹ãã®ã§ã€`LLDB` ã‚’é¸æŠã™ã‚‹ã€‚
1. ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ `Yes` ã‚’é¸æŠã™ã‚‹ã€‚ï¼ˆCargo.tomlã«åŸºã¥ã„ã¦ä½œæˆï¼‰
1. ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆè¨­å®šå¾Œã€`F5` ã§ãƒ‡ãƒãƒƒã‚¬ãƒ¼å®Ÿè¡Œé–‹å§‹ã€‚

â€»CodeLLDBã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ `F5` ã§ã‚‚ `launch.json` ãŒä½œæˆã•ã‚Œãƒ‡ãƒãƒƒã‚°ã§ããŸã€‚

ä¸»ã«ä»¥ä¸‹ã®æ©Ÿèƒ½ãŒæä¾›ã•ã‚Œã‚‹ã€‚ï¼ˆã¾ã ã¾ã ã‚ã‚‹ã‹ã‚‚ï¼‰
- ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ
- é€æ¬¡å®Ÿè¡Œ
- ã‚¦ã‚©ãƒƒãƒå¼å®šç¾©
- ã‚³ãƒ¼ãƒ«ã‚¹ã‚¿ãƒƒã‚¯

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‚ç…§
### ãƒ­ãƒ¼ã‚«ãƒ«
ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒˆãƒ¬ã‚¤ã¨ã‚¯ãƒ¬ãƒ¼ãƒˆãªã©ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚„é–¢æ•°ã‚’èª¿ã¹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```bash
$ cargo doc --open
```

### ãƒãƒƒãƒˆ
- [Docs.rs](https://docs.rs/)

## å‘½åè¦å‰‡
| Item | Convention |
| ---- | ---------- |
| Crates | `snake_case` (but prefer single word) |
| Modules | `snake_case` |
| Types | `UpperCamelCase` |
| Traits | `UpperCamelCase` |
| Enum variants | `UpperCamelCase` |
| Functions | `snake_case` |
| Methods | `snake_case` |
| General constructors | `new` or `with_more_details` |
| Conversion constructors | `from_some_other_type` |
| Local variables | `snake_case` |
| Static variables | `SCREAMING_SNAKE_CASE` |
| Constant variables | `SCREAMING_SNAKE_CASE` |
| Type parameters | concise `UpperCamelCase`, usually single uppercase letter: `T` |
| Lifetimes | short, lowercase: `'a` |

### å‚è€ƒ
- [rfcs/text/0430-finalizing-naming-conventions.md](https://github.com/rust-lang/rfcs/blob/master/text/0430-finalizing-naming-conventions.md)

## åŸºæœ¬ãƒ‡ãƒ¼ã‚¿å‹
|å‹|ç¨®é¡|
|:--|:--|
|æ•´æ•°|i8, u8, i16, u16, i32, u32, i64, u64, isize, usize|
|æµ®å‹•å°æ•°ç‚¹|f32, f64|
|ãƒ–ãƒ¼ãƒªã‚¢ãƒ³|bool|
|æ–‡å­—|char|
|ã‚¿ãƒ—ãƒ«|(256, abc, true)|
|é…åˆ—|[1, 2, 3, 4]|

### Copyãƒˆãƒ¬ã‚¤ãƒˆ
æ•´æ•°ã€æµ®å‹•å°æ•°ç‚¹ã€ãƒ–ãƒ¼ãƒªã‚¢ãƒ³ã€æ–‡å­—ã®å‹ã®å ´åˆã€Copyãƒˆãƒ¬ã‚¤ãƒˆãŒå®Ÿè¡Œã•ã‚Œã€æ‰€æœ‰æ¨©ãŒç¶­æŒã•ã‚Œã‚‹ã€‚\
ã‚¿ãƒ—ãƒ«ã®å ´åˆã¯ã€ä¸Šè¨˜ã®å‹ã®å ´åˆã¯Copyãƒˆãƒ¬ã‚¤ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ãŒã€Stringãªã©ä»–ã®å‹ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã¨å®Ÿè¡Œã•ã‚Œãªã„ã®ã§æ³¨æ„ãŒå¿…è¦ã€‚

ã‚¿ãƒ—ãƒ«ä¾‹ï¼‰
```rust
// Copyãƒˆãƒ¬ã‚¤ãƒˆå¯èƒ½
let a: (i32, f32) = (256, 123.456);

// Copyãƒˆãƒ¬ã‚¤ãƒˆä¸å¯
let b: (i32, String) = (64, "hoge");
```

## æ–‡å­—åˆ—
### æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«
```rust
let s: &str = "æ–‡å­—åˆ—";
```

C/C++ã® `const char *` ã¿ãŸã„ãªã‚‚ã®ã€‚

### æ–‡å­—åˆ—ã‚¯ãƒ©ã‚¹
```rust
let msg: string = String::new();
```

C/C++ã® `std::string` ã¿ãŸã„ãªã‚‚ã®ã€‚

### æ–‡å­—åˆ—ã®çµåˆ
#### ãƒªãƒ†ãƒ©ãƒ«
```rust
concat!("abc", "def");
```

#### ãƒªãƒ†ãƒ©ãƒ«ä»¥å¤–
```rust
format!("{}{}", "abc", "def");
```

### æ–‡å­—åˆ—æ“ä½œ
#### æ–‡å­—æ•°
```rust
"abc".chars().count();
```

#### æ–‡å­—åˆ—ã®çµåˆ
```rust
["Hello", "World"].connect(" ");
```

å˜ç´”çµåˆã€‚
```rust
["Hello", "World"].concat();
```

#### æ–‡å­—åˆ—ã®åˆ†å‰²
```rust
"a.b.c".split(".");
"a..b..c".split_str("."):
```

### æ–‡å­—åˆ—ã®ç½®æ›
```rust
"abcdef".replace("cd", "CD");
```

### éƒ¨åˆ†æ–‡å­—åˆ—ã®æ¤œç´¢
```rust
"abcdef".starts_with("cd");
```

### éƒ¨åˆ†æ–‡å­—åˆ—ã®å–å¾—
```rust
let s: String = String::from("ğŸ£ğŸµğŸ®ğŸ“±");
println!("{}", s.chars().nth(1).unwrap());
```

ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‹ã‚‰ `nth()` ã§nç•ªç›®ã®æ–‡å­—åˆ—ã‚’å–ã‚Šå‡ºã™ã€‚\
Optionå‹ã‚’è¿”ã™ã®ã§ã€`unwrap()` ãªã©ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚‹ã€‚

```rust
let s: String = String::from("ğŸ£ğŸµğŸ®ğŸ“±");
let begin = s.char_indices().nth(1).unwrap().0;
let end = s.char_indices().nth(3).unwrap().0;
let s = &s[begin..end];
println!("{}", s);
```

ã‚¹ãƒ©ã‚¤ã‚¹ã‚’ä½¿ã£ã¦ `ğŸµğŸ®` ã‚’å–ã‚Šå‡ºã™ã€‚\
æˆ»ã‚Šå€¤ã¯ `&str` ãªã®ã§æ³¨æ„ã€‚

### trim
```rust
"xaxxbxxcxd".trim_matches("x");
```

### ã‚¹ãƒ©ã‚¤ã‚¹
`[é–‹å§‹ä½ç½®..çµ‚äº†ä½ç½®]` ã§Stringã®ä¸€éƒ¨ã‚’å–å¾—ã™ã‚‹ã€‚

```rust
let s = String::from("Hello world");
let h = &s[0..5];
let w = &s[6..11];
```

- `[..5]` ã§é–‹å§‹ä½ç½®(0)çœç•¥
- `[6..]` ã§çµ‚äº†ä½ç½®(s.len())çœç•¥
- `[..]` ã§æ–‡å­—åˆ—å…¨ä½“

### å‚è€ƒ
- [Rustã®æ–‡å­—åˆ—æ“ä½œ](https://qiita.com/aflc/items/f2be832f9612064b12c6)
- [Rustã§æ–‡å­—åˆ—ã®å…ˆé ­æ–‡å­—ã‚„éƒ¨åˆ†æ–‡å­—åˆ—ã‚’å–å¾—ã™ã‚‹](https://qiita.com/HelloRusk/items/7fb68395984958987a54)

## ãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²
ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã€‚

```
.
â”œâ”€â”€ Cargo.lock
â”œâ”€â”€ Cargo.toml
â””â”€â”€ src
     â”œâ”€â”€ guessing.rs
     â”œâ”€â”€ lib.rs
     â””â”€â”€ main.rs
```

`main.rs` ã‹ã‚‰ `guessing.rs` ã«åˆ†å‰²ã™ã‚‹å ´åˆã€‚\
`lib.rs` ã‚’ä½œæˆã—ã€ã“ã“ã«å…¬é–‹ã™ã‚‹æƒ…å ±ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚

### lib.rs
`lib.rs` ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã‚’è¨˜è¼‰ã™ã‚‹ã€‚

``` rust
pub mod guessing;
```

`pub mod` ã«æŒ‡å®šã™ã‚‹ `guessing` ã¯ãƒ•ã‚¡ã‚¤ãƒ«åã€‚ï¼ˆguessingã®ä¸­ã® mod ã§ã¯ãªã„ã®ã§æ³¨æ„ï¼‰\
ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åã®æœ€åˆã¯å¿…ãšãƒ•ã‚¡ã‚¤ãƒ«åã«ãªã‚‹ã£ã½ã„ã€‚ï¼ˆ`ãƒ•ã‚¡ã‚¤ãƒ«å::æœ€åˆã®modå::æ¬¡ã®modå` ã«ãªã‚‹ï¼‰

### main.rs
è¡Œé ­ã« `extern crate ã‚¯ãƒ¬ãƒ¼ãƒˆå;` ã‚’è¨˜è¼‰ã™ã‚‹ã€‚ï¼ˆã“ã‚Œãªãã¦ã‚‚å‹•ä½œã™ã‚‹ã£ã½ã„ã€è¦èª¿æŸ»ï¼‰\
ã‚¯ãƒ¬ãƒ¼ãƒˆåã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã™ã‚‹å ´åˆã¯ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹(snake_case)ã«ã—ãªã„ã¨è­¦å‘ŠãŒå‡ºã‚‹ã®ã§æ³¨æ„ã€‚\
`Cargo.toml` ã® `[package]` ã® `name` ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹åå‰ã¨ä¸€è‡´ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\
ï¼ˆ`cargo new project_name` ã§ä½œæˆã—ã¦ã„ã‚‹å ´åˆã¯æ°—ã«ã™ã‚‹å¿…è¦ãªã—ï¼‰

â€»ã‚¯ãƒ¬ãƒ¼ãƒˆåãŒ `rust_test` ã®å ´åˆã€‚
``` rust
extern crate rust_test;
```

å…¬é–‹ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã„ãŸã„ã®ã§ `use` ã‚’ä½¿ã£ã¦ã‚¹ã‚³ãƒ¼ãƒ—ã«æŒã¡è¾¼ã‚€ã€‚

``` rust
use rust_test::guessing;
```

## æ‰€æœ‰æ¨©
Rustã¯ãƒ¡ãƒ¢ãƒªç®¡ç†æ©Ÿèƒ½ãŒãªã„ä»£ã‚ã‚Šã«æ‰€æœ‰æ¨©ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚‹ã€‚\
é–¢æ•°ã®å¼•æ•°ã«ã—ãŸã‚Šã™ã‚‹ã¨æ‰€æœ‰æ¨©ãŒç§»ã‚Šã€å…ƒã®å¤‰æ•°ãŒä½¿ãˆãªããªã‚‹ã€‚\
ï¼ˆç‰¹å®šã®å‹ã ã¨Copyãƒˆãƒ¬ã‚¤ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã®ã§ã€æ‰€æœ‰æ¨©ãŒç§»ã‚‰ãªã„å ´åˆãŒã‚ã‚‹ï¼‰

ãã®ç‚ºã€å‘¼ã³å‡ºã—å…ƒã§ã‚‚ç¶™ç¶šåˆ©ç”¨ã™ã‚‹å ´åˆã¯å‚ç…§æ¸¡ã—ã‚’ä½¿ç”¨ã™ã‚‹ã€‚\
ãŸã ã—ã€ç‰¹å®šã®ã‚¹ã‚³ãƒ¼ãƒ—ã§ã€ã‚ã‚‹ç‰¹å®šã®ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦ã¯ã€ ä¸€ã¤ã—ã‹å¯å¤‰ãªå‚ç…§ã‚’æŒã¦ãªã„ã€‚

### ä¾‹ï¼‰
```Rust
fn main() {
    another_function(x, y); // é–¢æ•°ã® x ã«ç§»ã‚‹ãŒã€i32ãªã®ã§Copyã¨ãªã‚‹
    println!("x = {}", x);  // Copyãªã®ã§ã€ã“ã“ã§ã‚‚ä½¿ãˆã‚‹

    let s = String::from("String Test 1");
    print_function1(s);      // ã“ã“ã§æ‰€æœ‰æ¨©ãŒé–¢æ•°ã® s ã«ç§»ã‚‹
    // println!("Test1: {}", s);   // æ‰€æœ‰æ¨©ãŒç§»ã£ã¦ã„ã‚‹ã®ã§ä½¿ç”¨ã§ããªã„

    let s = String::from("String Test 2");
    print_function2(&s);        // å‚ç…§ã«ãªã£ãŸã®ã§æ‰€æœ‰æ¨©ãŒæ®‹ã‚‹
    println!("Test2: {}", s);   // æ‰€æœ‰æ¨©ãŒæ®‹ã£ã¦ã„ã‚‹ã®ã§ã€ã“ã“ã§ã‚‚ä½¿ç”¨ã§ã„ã‚‹

    let mut s = String::from("String Test 3");
    print_function3(&mut s);    // å¤‰æ›´å¯èƒ½ãªå‚ç…§
    println!("Test3: {}", s);   // å¤‰æ›´å¯èƒ½ãªå‚ç…§ãªã®ã§ã€æ–‡å­—åˆ—ãŒå¤‰ã‚ã£ã¦ã„ã‚‹
}

fn another_function(x: i32, y: i32) {
    println!("The value of x is: {}", x);
    println!("The value of y is: {}", y);
}

fn print_function1(s: String) {
    println!("{}", s);
}

fn print_function2(s: &String) {
    println!("{}", s);
}

fn print_function3(s: &mut String) {
    println!("{}", s);
    s.push_str(", custom!!");
}
```

## é–¢æ•°ãƒã‚¤ãƒ³ã‚¿çš„ãªã‚‚ã®
```rust
fn add(x: i32, y: i32) -> i32 {
    x + y
}

fn main() {
    let x: fn(i32,i32) -> i32 = add;
}
```

## ãƒ¡ãƒ¢
- ã‚³ãƒ¡ãƒ³ãƒˆä»¥å¤–ã§æ—¥æœ¬èªãŒã‚ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã«å¤±æ•—ã™ã‚‹å ´åˆãŒã‚ã‚‹
- `_` ã¯ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã§ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç„¡è¦–ã™ã‚‹ã¨ãã«ä½¿ç”¨ã™ã‚‹
  ```rust
  let guess: u32 = match guess.trim().parse() {
      Ok(num) => num,
      Err(_) => return,
  };
  ```
- ifæ–‡ã¯å¼ãªã®ã§å€¤ã‚’è¿”ã™ã“ã¨ãŒã§ãã‚‹
  - `let number = if flag { 5 } else { 6 };` flagã«å¿œã˜ã¦5ã‹6ãŒnumberã«è¨­å®šã•ã‚Œã‚‹(ä¸‰é …æ¼”ç®—å­çš„ãªå‡¦ç†)
- `&v` ã¯å‚ç…§ã€ `*v` ã¯å‚ç…§å¤–ã—ï¼ˆå®Ÿãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
- ãƒãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹(è¦Git Bashã€PowerShellã§ã¯å‹•ä½œã—ãªã„)
  - `RUST_BACKTRACE=1 cargo run`
- ? æ¼”ç®—å­ã¯ Result ã‚’è¿”ã™é–¢æ•°ã§ã—ã‹ä½¿ç”¨ã§ã„ãªã„
  ```rust
  fn read_file() -> Result<String, io::Error> {
      let mut s = String::new();
      File::open("sample.txt")?.read_to_string(&mut s)?;
      Ok(s)
  }
  ```

## å‚è€ƒHP
- [The Rust Programming Language æ—¥æœ¬èªç‰ˆ](https://doc.rust-jp.rs/book-ja/title-page.html)
- [Rustå…¥é–€](https://zenn.dev/mebiusbox/books/22d4c2ed9b0003/viewer/6d5875)


